## Part 1. Установка ОС

- Установить **Ubuntu 20.04 Server LTS** без графического интерфейса. (Используем программу для виртуализации - VirtualBox)

- Графический интерфейс должен отсутствовать.

- Узнайте версию Ubuntu, выполнив команду
`cat /etc/issue.`

![версия Ubuntu](assets/1.png "версия Ubuntu")

## Part 2. Создание пользователя

- Создать пользователя, отличного от пользователя, который создавался при установке. Пользователь должен быть добавлен в группу adm.

- Вставьте скриншот вызова команды для создания пользователя.

![новый пользователь](assets/2.png "новый пользователь")

- Добавление нового пользователя в группу adm

![новый пользователь](assets/3.png "новый пользователь")

- Новый пользователь должен быть в выводе команды  cat /etc/passwd

![новый пользователь](assets/4.png "новый пользователь")

## Part 3. Настройка сети ОС

- Задать название машины вида user-1

![новое имя машины](assets/5.png "новое имя машины")


- Установить временную зону, соответствующую вашему текущему местоположению.

![новая временная зона](assets/Part_3_2.png "новая временная зона")

- Вывести названия сетевых интерфейсов с помощью консольной команды.

![сетевые интерфейсы](assets/Part_3_3.png "сетевые интерфейсы")

- lo (loopback device) – виртуальный интерфейс, присутствующий по умолчанию в любом Linux. Он используется для отладки сетевых программ и запуска серверных приложений на локальной машине. С этим интерфейсом всегда связан адрес 127.0.0.1. У него есть dns-имя – localhost. Посмотреть привязку можно в файле /etc/hosts.

- Используя консольную команду получить ip адрес устройства, на котором вы работаете, от DHCP сервера.

![адрес устройства](assets/Part_3_4.png "адрес устройства")

- DHCP (англ. Dynamic Host Configuration Protocol — протокол динамической настройки узла) — прикладной протокол, позволяющий сетевым устройствам автоматически получать IP-адрес и другие параметры, необходимые для работы в сети TCP/IP. 

- Определить и вывести на экран внешний ip-адрес шлюза (ip) и внутренний IP-адрес шлюза, он же ip-адрес по умолчанию (gw).

![внешний адрес](assets/Part_3_5.png "внешний и внутренний адрес")

- Задать статичные (заданные вручную, а не полученные от DHCP сервера) настройки ip, gw, dns (использовать публичный DNS серверы, например 1.1.1.1 или 8.8.8.8).

![внутренний адрес](assets/Part_3_6.png "статичный ip")

- Убедиться, что статичные сетевые настройки (ip, gw, dns) соответствуют заданным в предыдущем пункте.

![новые адреса](assets/Part_3_7.png "проверка новых ip")

- Успешно пропинговать удаленные хосты 1.1.1.1 и ya.ru и вставить в отчёт скрин с выводом команды. В выводе команды должна быть фраза "0% packet loss".

![пинг](assets/Part_3_8.png "пинг")

## Part 4. Обновление ОС

- Обновить системные пакеты до последней на момент выполнения задания версии. После обновления системных пакетов, если ввести команду обновления повторно, должно появится сообщение, что обновления отсутствуют.

![обновление](assets/Part_4.png "обновление")

## Part 5. Использование команды sudo

- Разрешить пользователю, созданному в Part 2, выполнять команду sudo. sudo дает пользователю права суперпользователяю

![sudo](assets/Part_5.png "sudo")

- Поменять hostname ОС от имени пользователя, созданного в пункте Part 2 (используя sudo).

![новый хостнэйм](assets/Part_5_1.png "новый хостнэйм")

## Part 6. Установка и настройка службы времени

- Настроить службу автоматической синхронизации времени. Вывести время, часового пояса, в котором вы сейчас находитесь. Вывод следующей команды должен содержать NTPSynchronized=yes: 
timedatectl show

![служба времени](assets/Part_6.png "служба времени")

## Part 7. Установка и использование текстовых редакторов

- Установить текстовые редакторы VIM (+ любые два по желанию NANO, MCEDIT, JOE и т.д.)

- Используя каждый из трех выбранных редакторов, создайте файл test_X.txt, где X -- название редактора, в котором создан файл. Напишите в нём свой никнейм, закройте файл с сохранением изменений.

![редакторы](assets/Part_7_1.png "редактор Vim")

![редакторы](assets/Part_7_2.png "редактор Nano")

![редакторы](assets/Part_7_3.png "редакторы Joe")

- Используя каждый из трех выбранных редакторов, оNткройте файл на редактирование, отредактируйте файл, заменив никнейм на строку "21 School 21", закройте файл без сохранения изменений.

![редакторы](assets/Part_7_4.png "редактор Vim")

![редакторы](assets/Part_7_5.png "редактор Nano")

![редакторы](assets/Part_7_6.png "редактор Joe")

- Используя каждый из трех выбранных редакторов, отредактируйте файл ещё раз (по аналогии с предыдущим пунктом), а затем освойте функции поиска по содержимому файла (слово) и замены слова на любое другое.

![редакторы](assets/Part_7_7.png "редактор Vim")

![редакторы](assets/Part_7_8.png "редактор Nano")

![редакторы](assets/Part_7_9.png "редактор Joe")

### Сохранение
- vim - :wq
- nano - ctrl+x, yes 
- micro - ^KX

### Без сохранения
- vim - :q!
- nano - ctr+x, no
- micro - ^KC

### Поиск и замена
- vim - :%s/  /  
- nano - ctrl+/ 
- micro - ^KF 'find' r 'replace'

## Part 8. Установка и базовая настройка сервиса SSHD

- Установить службу SSHd.

![установка](assets/Part_8.png "установка")

- Добавить автостарт службы при загрузке системы.

![автостарт](assets/Part_8_1.png "автостарт")

- Перенастроить службу SSHd на порт 2022.

![порт](assets/Part_8_2.png "порт")

- Используя команду ps, показать наличие процесса sshd.

![порт](assets/Part_8_3.png "порт")

Утилита ps одна из самых простых и в то же время часто используемых программ для просмотра списка процессов в Linux. -a - выбрать все процессы, кроме фоновых; -u - выбрать процессы пользователя; -x - При отображении процессов, соответствующих другим параметрам, включите процессы, у которых нет управляющего терминала. Это противоположность опции -X. Если в одной команде указаны и -X, и -x, то ps будет использовать тот, который был указан последним.

- Вывод команды netstat -tan должен содержать  
tcp 0 0 0.0.0.0:2022 0.0.0.0:* LISTEN 

![порт](assets/Part_8_4.png "порт")

Программа netstat показывает статус сети, команда -t отображает список соединения TCP, -a показывает список всех портов, -n отображает в числовом формате, не отображая имя хоста
адресс 0.0.0.0 используется в сети как немаршрутизируемый адрес IPv4, он используется во время инициализации системы, когда устройство использует его до того, как ему будет назначен реальный IP-адррес, в качестве адреса по умолчанию.

## Part 9. Установка и использование утилит top, htop

- Установить и запустить утилиты top и htop.

![top](assets/Part_9.png "top")

- uptime = 14 min
- количество авторизованных пользователей = 1 user
- общую загрузку системы = load average 0,00 0,00 0,01
- общее количество процессов = task = 25
- загрузку cpu = 0.0
- загрузку памяти Mem 147
- pid процесса занимающего больше всего памяти 722
- pid процесса, занимающего больше всего процессорного времени 1201

- В отчёт вставить скрин с выводом команды htop:
	- отсортированному по PID, PERCENT_CPU, PERCENT_MEM, TIME
  
	![htop](assets/Part_9_1.png "htop")

	![htop](assets/Part_9_2.png "htop")

	![htop](assets/Part_9_3.png "htop")

	![htop](assets/Part_9_4.png "htop")
  
	- отфильтрованному для процесса sshd
  
	![htop](assets/Part_9_5.png "htop")
  
	- с процессом syslog, найденным, используя поиск 
  
	![htop](assets/Part_9_6.png "htop")
  
	- с добавленным выводом hostname, clock и uptime
	
	![htop](assets/Part_9_7.png "htop")

## Part 10. Использование утилиты fdisk

- Запустить команду sudo fdisk -l.

![fdisk](assets/Part_10.png "fdisk")

- название жесткого диска /dev/sda
- размер 15.43 GiB
- количество секторов 32347136

## Part 11. Использование утилиты df

- Запустить команду df.

![fd](assets/Part_11.png "df")

- размер раздела 10218772
- размер занятого пространства 4772344
- размер свободного пространства 5905756
- процент использования 50
- Определить и написать в отчёт единицу измерения в выводе - килобайт.

- Запустить команду df -Th.

![fd](assets/Part_11_1.png "df")

- размер раздела 9.8
- размер занятого пространства 4.6G
- размер свободного пространства 4.7G
- процент использования 50
- Определить и написать в отчёт тип файловой системы для раздела -  ext4.

## Part 12. Использование утилиты du

- Запустить команду du.

- Вывести размер папок /home, /var, /var/log (в байтах, в человекочитаемом виде)

![du](assets/Part_12.png "du")

- Вывести размер всего содержимого в /var/log (не общее, а каждого вложенного элемента, используя *)

![du](assets/Part_12_1.png "du")

## Part 13. Установка и использование утилиты ncdu

- Установить утилиту ncdu.

![ncdu](assets/Part_13.png "ncdu")

![ncdu](assets/Part_13_1.png "ncdu")

![ncdu](assets/Part_13_2.png "ncdu")

## Part 14. Работа с системными журналами

- Открыть для просмотра: /var/log/dmesg /var/log/syslog /var/log/auth.log

![vim](assets/Part_14.png "vim")

![vim](assets/Part_14_1.png "vim")

![vim](assets/Part_14_2.png "vim")

- Написать в отчёте время последней успешной авторизации, имя пользователя и метод входа в систему.

![vim](assets/Part_14_3.png "vim")


- Перезапустить службу SSHd. Вставить в отчёт скрин с сообщением о рестарте службы (искать в логах).

![vim](assets/Part_14_4.png "vim")

## Part 15. Использование планировщика заданий CRON

- Используя планировщик заданий, запустите команду uptime через каждые 2 минуты.

![cron](assets/Part_15.png "cron")

- Вывести на экран список текущих заданий для CRON.

![cron](assets/Part_15_1.png "cron")

- Вставить в отчёт скрины со строчками о выполнении и списком текущих задач.

![cron](assets/Part_15_2.png "cron")

- Удалите все задания из планировщика заданий. В отчёт вставьте скрин со списком текущих заданий для CRON.

![cron](assets/Part_15_3.png "cron")
